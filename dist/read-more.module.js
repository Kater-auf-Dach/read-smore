var n,t={settings:function(){return{content:document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:"Read More",lessLink:"Less Link"}},init:function(){n=this.settings(),this.bindEvents()},bindEvents:function(){t.truncateText()},countWords:function(n){return n.split(/\s+/).length},ellipseContent:function(n,t){return n.split(/\s+/).slice(0,t).join(" ")+"..."},truncateText:function(){for(var e=0;e<n.content.length;e++){var r=n.content[e].innerHTML,i=n.content[e].dataset.rmWords,o=t.ellipseContent(r,i),c=t.countWords(r);n.originalContentArr.push(r),n.truncatedContentArr.push(o),i<c&&(n.content[e].innerHTML=n.truncatedContentArr[e],t.createLink(e))}t.handleClick(n.content)},createLink:function(t){var e=document.createElement("span");e.className="read-more__link-wrap",e.innerHTML='<a id="read-more_'+t+'"\n                                class="read-more__link"\n                                style="cursor:pointer;">\n                                '+n.moreLink+"\n                            </a>",n.content[t].parentNode.insertBefore(e,n.content[t].nextSibling)},handleClick:function(t){for(var e=document.querySelectorAll(".read-more__link"),r=0,i=e.length;r<i;r++)e[r].addEventListener("click",function(){var e=this.getAttribute("id").split("_")[1];t[e].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(t[e].innerHTML=n.originalContentArr[e],this.innerHTML=n.lessLink,this.dataset.clicked=!0):(t[e].innerHTML=n.truncatedContentArr[e],this.innerHTML=n.moreLink,this.dataset.clicked=!1)})},openAll:function(){for(var t=document.querySelectorAll(".read-more__link"),e=0;e<t.length;e++)content[e].innerHTML=n.truncatedContentArr[e],t[e].innerHTML=n.moreLink}};export default t;
//# sourceMappingURL=read-more.module.js.map
