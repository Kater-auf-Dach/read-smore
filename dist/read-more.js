var n,e={settings:function(){return{content:document.querySelectorAll(".js-read-more"),originalContentArr:[],truncatedContentArr:[],moreLink:"Read More",lessLink:"Less Link"}},init:function(){n=this.settings(),this.bindEvents()},bindEvents:function(){e.truncateText()},countWords:function(n){return n.split(/\s+/).length},ellipseContent:function(n,e){return n.split(/\s+/).slice(0,e).join(" ")+"..."},truncateText:function(){for(var t=0;t<n.content.length;t++){var r=n.content[t].innerHTML,i=n.content[t].dataset.rmWords,o=e.ellipseContent(r,i),c=e.countWords(r);n.originalContentArr.push(r),n.truncatedContentArr.push(o),i<c&&(n.content[t].innerHTML=n.truncatedContentArr[t],e.createLink(t))}e.handleClick(n.content)},createLink:function(e){var t=document.createElement("span");t.className="read-more__link-wrap",t.innerHTML='<a id="read-more_'+e+'"\n                                class="read-more__link"\n                                style="cursor:pointer;">\n                                '+n.moreLink+"\n                            </a>",n.content[e].parentNode.insertBefore(t,n.content[e].nextSibling)},handleClick:function(e){for(var t=document.querySelectorAll(".read-more__link"),r=0,i=t.length;r<i;r++)t[r].addEventListener("click",function(){var t=this.getAttribute("id").split("_")[1];e[t].classList.toggle("is-expanded"),"true"!==this.dataset.clicked?(e[t].innerHTML=n.originalContentArr[t],this.innerHTML=n.lessLink,this.dataset.clicked=!0):(e[t].innerHTML=n.truncatedContentArr[t],this.innerHTML=n.moreLink,this.dataset.clicked=!1)})},openAll:function(){for(var e=document.querySelectorAll(".read-more__link"),t=0;t<e.length;t++)content[t].innerHTML=n.truncatedContentArr[t],e[t].innerHTML=n.moreLink}};module.exports=e;
//# sourceMappingURL=read-more.js.map
